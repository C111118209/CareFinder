import{u as h,f as r,c,a as u,b as t,g as k,h as N,i as p,v,t as x,e as m,w as f,r as V,j as C,k as S,o as y}from"./index-t9rlBETP.js";import{N as q}from"./Navbar-CypzDj8e.js";const B={class:"bg-gray-50 min-h-screen flex items-center justify-center"},j={class:"max-w-md w-full"},D={class:"card"},L={key:0,class:"text-red-600 text-sm"},M=["disabled"],R={class:"mt-6 text-center"},T={class:"text-gray-600"},U={class:"mt-4 text-center"},z={__name:"Login",setup(A){const b=C(),g=S(),_=h(),l=r(""),i=r(""),a=r(""),o=r(!1),w=async()=>{var n,e;a.value="",o.value=!0;try{await _.login(l.value,i.value);const s=g.query.redirect||"/dashboard";b.push(s)}catch(s){a.value=((e=(n=s.response)==null?void 0:n.data)==null?void 0:e.error)||s.message||"登入失敗，請檢查您的帳號密碼"}finally{o.value=!1}};return(n,e)=>{const s=V("router-link");return y(),c("div",null,[u(q),t("div",B,[t("div",j,[t("div",D,[e[7]||(e[7]=t("div",{class:"text-center mb-6"},[t("h1",{class:"text-3xl font-bold text-primary-600 mb-2"},"CareFinder"),t("h2",{class:"text-2xl font-semibold text-gray-800"},"登入")],-1)),t("form",{onSubmit:k(w,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"電子郵件",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>l.value=d),type:"email",id:"email",required:"",class:"input-field",placeholder:"your@email.com"},null,512),[[v,l.value]])]),t("div",null,[e[3]||(e[3]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},"密碼",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>i.value=d),type:"password",id:"password",required:"",class:"input-field",placeholder:"••••••••"},null,512),[[v,i.value]])]),a.value?(y(),c("div",L,x(a.value),1)):N("",!0),t("button",{type:"submit",disabled:o.value,class:"w-full btn-primary"},x(o.value?"登入中...":"登入"),9,M)],32),t("div",R,[t("p",T,[e[5]||(e[5]=m(" 還沒有帳號？ ",-1)),u(s,{to:"/register",class:"text-primary-600 hover:text-primary-700 font-medium"},{default:f(()=>[...e[4]||(e[4]=[m("立即註冊",-1)])]),_:1})])]),t("div",U,[u(s,{to:"/",class:"text-gray-500 hover:text-gray-700 text-sm"},{default:f(()=>[...e[6]||(e[6]=[m("返回首頁",-1)])]),_:1})])])])])])}}};export{z as default};
